<script type="text/javascript" src="SCRIPT_JS"></script>
<script type="text/javascript">
    $(document).ready(function() {
        
        var oTable;
        /* Add a click handler to the rows - this could be used as a callback */
        $("#tableContent tbody").click(function(event) {
            $(oTable.fnSettings().aoData).each(function (){
                $(this.nTr).removeClass('row_selected');
            });
            $(event.target.parentNode).addClass('row_selected');
        });
     
        /* Add a click handler for the delete row */
        $('#delete').click( function() {
            var anSelected = fnGetSelected( oTable );
            oTable.fnDeleteRow( anSelected[0] );
        } );
        oTable = $('#tableContent').dataTable({
            "bJQueryUI": true,
            "bSortClasses": false,
            "sPaginationType": "full_numbers",
            "bProcessing": true,
            "sAjaxSource": "LINK",
            "aoColumns": [
                {"mDataProp": "nom" },
                {"mDataProp": "type_contrat"},
                {"mDataProp": "adresse"},
                {"mDataProp": "code_postal"},
                {"mDataProp": "idasecurite_ville"},
                {"mDataProp": "telephone"},
                {"mDataProp": "date_debut_contrat"},
                {"mDataProp": "date_fin_contrat"},
                {"mDataProp": "operation"}
                    
            ]
        });
        
        /* Get the rows which are currently selected */
        function fnGetSelected( oTableLocal )
        {
            var aReturn = new Array();
            var aTrs = oTableLocal.fnGetNodes();
				
            for ( var i=0 ; i<aTrs.length ; i++ )
            {
                if ( $(aTrs[i]).hasClass('row_selected') )
                {
                    aReturn.push( aTrs[i] );
                }
            }
            return aReturn;
        }
                        
        $('td', oTable.fnGetNodes()).hover( function() {
            var iCol = $('td').index(this) % 5;
            var nTrs = oTable.fnGetNodes();
            $('td:nth-child('+(iCol+1)+')', nTrs).addClass( 'highlighted' );
        }, function() {
            $('td.highlighted', oTable.fnGetNodes()).removeClass('highlighted');
        } );
          
    } );
</script>
<div class="ex_highlight">
    <div id="dynamic">
        <table cellpadding="0" cellspacing="0" border="0" class="display" id="tableContent">
            <thead>
                <tr>
                    <th width="15%">Agent</th>
                    <th width="10%">Type de contrat</th>
                    <th width="16%">Adresse</th>
                    <th width="10%">Code postal</th>
                    <th width="10%">Ville</th>
                    <th width="12%">Téléphone</th>
                    <th width="12%">Date de début de contrat</th>
                    <th width="12%">Date de fin de contrat</th>
                    <th>Opérations</th>
                </tr>
            </thead>
            <tbody>

            </tbody>                
        </table>
        <div><span><a href="javascript:void(0)" id="delete">DELETE_BUTTON</a><span>SELECT_ALL</span></span></div>
    </div>
</div>